ï»¿//=================================================================================================
//
//  File: language.js   Built automatically with spreadsheet Ver = 01.00.14
//
//  Description:  This file contains name:value pairs for all displayable strings in the app.
//    (Note that this file is auto generated by Excel macro MakeLangJs_ExcelMacro.bas
//=================================================================================================

var phoneLang    = "en";  // Default
var errTagString = null;
var bSetLang = false;

var langs =
{
    "en":
    {
        "CelFiDevice":"Cel-Fi device...",
        "CelFiDevices":"Cel-Fi devices...",
        "FollowMe":"Follow Me",
        "Found":"Found",
        "SouthBoundIfEnableMsgBT":"Bluetooth Required: Please Enable...",
        "SouthBoundIfNotCnxMsgBT":"Bluetooth connection lost.",
    },
    "es":
    {
        "CelFiDevice":"Dispositivo Cel-Fi…",
        "CelFiDevices":"Dispositivos Cel-Fi…",
        "FollowMe":"Follow Me",
        "Found":"Encontrado",
        "SouthBoundIfEnableMsgBT":"Bluetooth requis: Veuillez activer s'il vous plaît...",
        "SouthBoundIfNotCnxMsgBT":"Conexión Bluetooth perdida…",
    },
    "fr":
    {
        "CelFiDevice":"Appareil Cel-Fi",
        "CelFiDevices":"Appareils Cel-Fi",
        "FollowMe":"Follow Me",
        "Found":"Найден",
        "SouthBoundIfEnableMsgBT":"Bluetooth requis: Veuillez activer s'il vous plaît...",
        "SouthBoundIfNotCnxMsgBT":"Connexion Bluetooth perdue.",
    },
    "ru":
    {
        "CelFiDevice":"Устройство Cel-Fi",
        "CelFiDevices":"Устройства Cel-Fi",
        "FollowMe":"Follow Me",
        "Found":"Найден",
        "SouthBoundIfEnableMsgBT":" Требуется Bluetooth: Пожалуйста, Включите...",
        "SouthBoundIfNotCnxMsgBT":"Потеряно соединение Bluetooth",
    },
    "zh":
    {
        "CelFiDevice":"个 Cel-Fi设备…",
        "CelFiDevices":"个 Cel-Fi设备…",
        "FollowMe":"Follow Me",
        "Found":"找到",
        "SouthBoundIfEnableMsgBT":"需要使用蓝牙：请启用…",
        "SouthBoundIfNotCnxMsgBT":"蓝牙连接丢失。",
    },
};


function GetLangString(tagString)
{

    // Global vars get filled before code runs.
    if(bSetLang == false)
    {
        if(navigator.language !== undefined)
        {
            var userLang = navigator.language;
            // Convert e.g. 'en-GB' to 'en'. Not supporting specific cultures.
            phoneLang = userLang.substring(0, 2);

            if( typeof langs[phoneLang] === "undefined" )
            {
                phoneLang = 'en';
            }
            bSetLang = true;
        }
    }

    var rtnString = langs[phoneLang][tagString];

    if( typeof rtnString === "undefined" )
    {
        rtnString = "Lang: Tag " + tagString + " is undefined";

        // Make sure that PrintLog has been declared.
        // Static arrays such as faqQuesAns[] are filled before PrintLog() is defined.
        if( typeof PrintLog == 'function' )
        {
            PrintLog(99, rtnString );
        }
        else
        {
            // Save the error tag to display once PrintLog is defined
            errTagString = tagString;
        }
    }

    if( errTagString != null )
    {
        if( typeof PrintLog == 'function' )
        {
            PrintLog(99, "Lang: Start up tag " + errTagString + " is undefined." );
            errTagString = null;
        }
    }


    // Find the string associated with the tag...
    return( rtnString );
}

function getLanguage()
{
    phoneLang = 'en';
    navigator.globalization.getPreferredLanguage(onSuccess, onError);

    function onSuccess(language)
    {
        var userLang = language.value;

        // Convert e.g. 'en-GB' to 'en'. Not supporting specific cultures.
        phoneLang = userLang.substring(0, 2);

        if( typeof langs[phoneLang] === "undefined" )
        {
            phoneLang = 'en';
        }
        bSetLang = true;
    }

    function onError()
    {
        PrintLog(99, "Unable to read phone's language." );
    }
}
